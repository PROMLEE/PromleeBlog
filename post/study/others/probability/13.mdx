## 연속 확률 변수 (Continuous Random Variable)
> 무한한 범위의 값을 가질 수 있는 확률 변수

**예시**
- 버스가 도착하는 *시간*
- 주어진 시간 동안 파이프를 통해 흐르는 물의 *양*
- 무작위로 선택 된 사람의 *키*

**성질**
- 특정 값 $X = x$에 대해 확률은 0이다. $P(X = x) = 0$

## 확률 밀도 함수 (Probability Density Function, PDF)
> 연속 확률 변수의 경우 특정 값의 확률이 0이기 떄문에 확률 질량 함수를 사용할 수 없다. 
따라서 *확률 밀도 함수*(*PDF*)를 사용한다.

$f_X(x)$: 연속적이고 비음수인 함수로서, 이 함수를 $X$의 **확률 밀도 함수**(PDF) 라고 한다.

### 예시 (확률 밀도 함수)
$X$가 두 값 $x_1$과 $x_2$ 사이에 존재할 확률은 $f_X(x)dx$로 나타낼 수 있다.
- $P(x_1 < X < x_2) = \int_{x_1}^{x_2} f_X(x)dx$
	<Img src="/posts/240620-015420.png" width={300}/>

더 일반적으로, 실선 상의 어떤 부분 집합 $B$에 대하여
- $P(X \in B) = \int_B f_X(x)dx$
	<Img src="/posts/240620-015431.png" width={300}/>

## 확률 법칙과 PDF (Probability Laws and PDF)
$f_X(x)$는 $P(X=a)$가 아님을 유의
특정 값 $a$에 대해, $P(X=a) = \int_a^a f_X(x)dx = 0$이다.
- 예를 들어, $P(X \leq a) = P(X<a) + P(X=a) = P(X<a)$를 의미

유효한 확률 법칙은 $P(\Omega) = 1$ 및 $P(A) > 0$을 만족해야 한다. - 이는 PDF와 유사
- 정규화를 위해: $\int_{-\infty}^{\infty} f_X(x)dx = 1 \rightarrow $ 곡선 아래의 총 면적은 1이다
- 정규화를 위해: $f_X$는 비음수이므로, 모든 $B$에 대하여 $P(x \in B) = \int_{x \in B} f_X(x)dx \geq 0$ 이다

확률 변수 길이가 $\delta$인 작은 구간 $[x, x+\delta]$에 대한 확률은 $f_X(x)\delta$이다.
- $P(x \leq X \leq x+\delta) = \int_{x}^{x+\delta} f_X(x)dx \approx f_X(x)\delta$
- 이는 $f_X(x)$가 $x$에서의 밀도를 나타낸다.

## PDF의 특성 (Properties of PDF)
$X$를 PDF $f_X$를 가진 연속 확률 변수라고 하자. 
- $f_X(x) \geq 0$ for all $x$
- $\int_{-\infty}^{\infty} f_X(x)dx = 1$
- $\delta$가 매우 작으면, $P([x, x+\delta]) \approx f_X(x)\cdot\delta$
- 임의의 실수 부분집합 $B$에 대하여, $P(X \in B) = \int_{x \in B} f_X(x)dx$


### 예시
```math
f_X(x) = \begin{cases}
1 & \text{if } 0 \le x \le 1 \\
0 & \text{otherwise}
\end{cases}
```
- $P(X > 0.5) = \int_{0.5}^{1} f_X(x)dx = \int_{0.5}^{1} 1dx = 0.5$
- $P(X > 1.5) = \int_{1.5}^{1} f_X(x)dx = \int_{1.5}^{1} 1dx = 0$
- $P(X = 0.7) = \int_{0.7}^{0.7} f_X(x)dx = 0$
<br/>

``` math
f_X(x) = \begin{cases}
c & \text{if } a \le x \le b \\
0 & \text{otherwise}
\end{cases}
```
- $c = \frac{1}{b-a}$

## 연속 확률 변수의 기대값 (Expectation of Continuous Random Variable)

이산 확률 변수의 경우 우리는 다음과 같은 식을 사용했다.
- $E[X] = \sum_{x} x \cdot P_X(x)$

$X$가 연속 확률 변수이고 $f_X(x)$가 $X$의 확률 밀도 함수라고 하자. $X$의 기대값은 다음과 같이 정의된다.
- $E[X] = \int_{-\infty}^{\infty} x \cdot f_X(x)dx$

### 예제 (연속 확률 변수의 기대값)
#### 문제
$X$가 $[a, b]$ 구간에서의 균등 확률 변수라고 하자. 이때, $X$의 기댓값은 얼마인가?

#### 해결
$X$의 확률 밀도 함수는 다음과 같다.
```math
f_X(x) = \begin{cases}
\frac{1}{b-a} & \text{if } a \le x \le b \\
0 & \text{otherwise}
\end{cases}
```
$X$의 기댓값은 다음과 같이 계산된다.
```math
E[X] = \int_{-\infty}^{\infty} x \cdot f_X(x)dx = \int_{a}^{b} x \cdot \frac{1}{b-a}dx = \frac{1}{b-a} \cdot \frac{1}{2} \cdot (b^2 - a^2) = \frac{a+b}{2}
```
따라서, $X$의 기댓값은 $\frac{a+b}{2}$이다.


## 연속 확률 변수의 분산 (Variance of Continuous Random Variable)

이산 확률 변수의 경우 우리는 다음과 같은 식을 사용했다.
- $Var[X] = \sum_{x} (x - E[X])^2 \cdot P_X(x)$

$X$가 연속 확률 변수이고 $f_X(x)$가 $X$의 확률 밀도 함수라고 하자. $X$의 분산은 다음과 같이 정의된다.
- $Var[X] = E[(X - E[X])^2] = \int_{-\infty}^{\infty} (x - E[X])^2 \cdot f_X(x)dx$

### 예제 (연속 확률 변수의 분산)
#### 문제 
$X$가 $[a, b]$ 구간에서의 균등 확률 변수라고 하자. 이때, $X$의 분산은 얼마인가?

#### 해결
$X$의 확률 밀도 함수는 다음과 같다.
```math
f_X(x) = \begin{cases}
\frac{1}{b-a} & \text{if } a \le x \le b \\
0 & \text{otherwise}
\end{cases}
```
$X$의 분산은 다음과 같이 계산된다.
```math
Var[X] = E[(X - E[X])^2] = \int_{-\infty}^{\infty} (x - E[X])^2 \cdot f_X(x)dx = \int_{a}^{b} (x - \frac{a+b}{2})^2 \cdot \frac{1}{b-a}dx = \frac{1}{b-a} \cdot \frac{1}{3} \cdot (b^3 - a^3) = \frac{(b-a)^2}{12}
```
따라서, $X$의 분산은 $\frac{(b-a)^2}{12}$이다.

## 지수 확률 변수 (Exponential Random Variable)
지수 확률 변수의 확률 밀도 함수는 다음과 같다.
```math
f_X(x) = \begin{cases}
\lambda e^{-\lambda x} & \text{if } x \ge 0 \\
0 & \text{otherwise}
\end{cases}
\;\;\;\;\;\;
E[X] = \frac{1}{\lambda}, \quad \text{var}(X) = \frac{1}{\lambda^2}
```
<br/>

$X$가 특정 값을 초과할 확률은 지수적으로 감소한다는 점에 유의하라
$$P(X \ge a) = \int_{a}^{\infty} \lambda e^{-\lambda x} \, dx = \left[ -e^{-\lambda x} \right]_{a}^{\infty} = e^{-\lambda a}$$

### 예시 (지수 확률 변수)
어떤 일이 일어날 때까지의 시간을 모델링하기 위해, 지수 확률 변수를 사용한다.
- 다음 이메일이 도착할 때까지의 시간
- 사고가 발생할 때까지의 시간
- 전구가 나갈 때까지의 시간

### 예제 (지수 확률 변수)
#### 문제
사하라 사막 어디든 작은 운석이 처음 떨어질 때까지의 시간은 평균 10일의 지수 확률 변수로 모델링된다. 
현재 시간은 자정이다. 
첫날 오전 6시에서 오후 6시 사이에 운석이 처음 떨어질 확률은 얼마인가?

#### 해결
$X$를 운석이 처음 떨어지는 시간이라고 하자.
$X$는 평균 10일의 지수 확률 변수이므로, $\lambda = \frac{1}{10}$이다.
첫날 오전 6시에서 오후 6시 사이에 운석이 처음 떨어질 확률은 다음과 같이 계산된다.
$P(1/4 \le X \le 3/4) = P(X \le 1/4) - P(X \le 3/4) \\
= e^{-\frac{1}{10} \cdot 1/4} - e^{-\frac{1}{10} \cdot 3/4} = e^{-1/40} - e^{-3/40} \approx 0.0476$

## 요약 (Summary)
**연속 확률 변수**
$f_X(x) \geq 0$ for all $x$
$\int_{-\infty}^{\infty} f_X(x)dx = 1$
$\delta$가 매우 작을 때, $P([x, x+\delta]) \approx f_X(x)\cdot\delta$
임의의 실수 부분집합 $B$에 대하여, $P(X \in B) = \int_{B} f_X(x)dx$
<br/>

**기대값**
$E[X] = \int_{-\infty}^{\infty} x \cdot f_X(x)dx$
<br/>

**분산**
$Var[X] = E[(X - E[X])^2] = \int_{-\infty}^{\infty} (x - E[X])^2 \cdot f_X(x)dx$

## 추가 문제
#### 문제
연속 확률 변수 $X$의 기댓값이 다음을 만족함을 보여라
$E[X] = \int_{0}^{\infty} P(X > x) \, dx - \int_{0}^{\infty} P(X < -x) \, dx$

#### 해결
$\int P(X > x) \, dx = \int_{0}^{\infty} (\int_{x}^{\infty} f_X(y) \, dy) \, dx \\
= \int_{0}^{\infty} (\int_{0}^{y} f_X(y) \, dx) \, dy \\
= \int_{0}^{\infty} f_X(y) (\int_{0}^{y} \, dx) \, dy \\
= \int_{0}^{\infty} y \cdot f_X(y) \, dy$

$\int P(X < -x) \, dx = \int_0^\infty \left( \int_{-\infty}^{-x} f_X(y) \, dy \right) \, dx\\
= \int_{-\infty}^0 \left( \int_0^{-y} f_X(y) \, dx \right) \, dy\\
= \int_{-\infty}^0 f_X(y) \left( \int_0^{-y} \, dx \right) \, dy\\
= - \int_{-\infty}^0 y f_X(y) \, dy$

따라서, $E[X] = \int_{0}^{\infty} y \cdot f_X(y) \, dy + \int_{-\infty}^0 y \cdot f_X(y) \, dy = \int_{-\infty}^{\infty} y \cdot f_X(y) \, dy$